!function(a,b){"function"==typeof define&&define.amd?define(b):a.CardType=b()}(this,function(){function a(a){for(var b=0;b<h.length;b++)if(a.match(h[b].pattern))return h[b];return!1}function b(a){for(var b,c=0,d=a.split("").reverse(),e=0;e<d.length;e++)b=+d[e],e%2?(b*=2,c+=10>b?b:b-9):c+=b;return c%10===0}function c(a,b){return g.call(b.validLength,a.length)>-1}function d(d){var e=a(d),f=!1,g=!1;return e&&(f=b(d),g=c(d,e)),{cardType:e,luhnValid:f,lengthValid:g}}function e(a){var b=f(a);return d(b)}function f(a){return a.replace(/[ -]/g,"")}function g(a){var b;return b="function"==typeof Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b=-1,c=-1;for(b=0;b<this.length;b++)if(this[b]===a){c=b;break}return c},b.call(this,a)}var h=[{name:"amex",pattern:/^3[47]/,validLength:[15]},{name:"diners_club_carte_blanche",pattern:/^30[0-5]/,validLength:[14]},{name:"diners_club_international",pattern:/^36/,validLength:[14]},{name:"jcb",pattern:/^35(2[89]|[3-8][0-9])/,validLength:[16]},{name:"laser",pattern:/^(6304|670[69]|6771)/,validLength:[16,17,18,19]},{name:"visa_electron",pattern:/^(4026|417500|4508|4844|491(3|7))/,validLength:[16]},{name:"visa",pattern:/^4/,validLength:[16]},{name:"mastercard",pattern:/^5[1-5]/,validLength:[16]},{name:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,validLength:[12,13,14,15,16,17,18,19]},{name:"discover",pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,validLength:[16]}];return{getType:a,validLength:c,validLuhn:b,validateNumber:d,validate:e,normalize:f}});